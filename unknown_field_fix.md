# è§£å†³æ‹–æ‹½åå­—æ®µæ˜¾ç¤º"æœªçŸ¥"çš„é—®é¢˜

## ğŸ” **é—®é¢˜ç¡®è®¤**

ä½ æåˆ°çš„é—®é¢˜ï¼š
- âœ… è®¢å•æ•°æ®å®Œæ•´ï¼ˆä»ä½ çš„æ•°æ®å¯ä»¥çœ‹åˆ°åŒ…å« `flightNumber`, `hotelRoomCount`, `roomDetails` ç­‰ï¼‰
- âŒ æ‹–æ‹½åæŸäº›å­—æ®µå˜æˆ"æœªçŸ¥"

## ğŸ¯ **æ ¹æœ¬åŸå› **

**æ ¸å¿ƒé—®é¢˜ï¼š** `TourScheduleVO` ç±»ç¼ºå°‘é‡è¦å­—æ®µï¼

### ç¼ºå¤±çš„å…³é”®å­—æ®µï¼ˆå·²ä¿®å¤ï¼‰
- âœ… `flightNumber` - èˆªç­å·
- âœ… `returnFlightNumber` - è¿”ç¨‹èˆªç­å·  
- âœ… `hotelRoomCount` - é…’åº—æˆ¿é—´æ•°
- âœ… `roomDetails` - æˆ¿é—´è¯¦æƒ…
- âœ… `passengerContact` - ä¹˜å®¢è”ç³»æ–¹å¼
- âœ… `itineraryDetails` - è¡Œç¨‹è¯¦æƒ…
- âœ… `agentName` - ä»£ç†å•†åç§°
- âœ… `operatorName` - æ“ä½œå‘˜åç§°

## ğŸ’¡ **è§£å†³æ–¹æ¡ˆ**

### 1. å·²æ›´æ–°çš„æ–‡ä»¶

#### âœ… `TourScheduleVO.java` 
å·²æ·»åŠ æ‰€æœ‰ç¼ºå¤±å­—æ®µï¼Œç¡®ä¿å‰ç«¯èƒ½è·å–å®Œæ•´ä¿¡æ¯

#### âœ… `TourScheduleOrderServiceImpl.java`
å·²å®ç°è‡ªåŠ¨å­—æ®µè¡¥å…¨é€»è¾‘

## ğŸ§ª **æµ‹è¯•æ­¥éª¤**

### 1. éªŒè¯åç«¯å­—æ®µè¡¥å…¨
é‡æ–°ç¼–è¯‘åç«¯ï¼Œæ‹–æ‹½è®¢å•ï¼ŒæŸ¥çœ‹æ—¥å¿—ï¼š
```
è¡¥å……è®¢å• HT20250606000144 çš„å®Œæ•´ä¿¡æ¯åˆ°æ’å›¢è¡¨
å·²è¡¥å……è®¢å• HT20250606000144 çš„å®Œæ•´ä¿¡æ¯ï¼šé…’åº—æˆ¿é—´æ•°=1, èˆªç­å·=jq123, ç‰¹æ®Šè¦æ±‚=null
```

### 2. éªŒè¯å‰ç«¯æ•°æ®æ¥æ”¶
æ‹–æ‹½åï¼Œæ£€æŸ¥å‰ç«¯æ¥æ”¶çš„æ’å›¢æ•°æ®åº”åŒ…å«ï¼š
```json
{
  "flightNumber": "jq123",
  "returnFlightNumber": "jq212", 
  "hotelRoomCount": 1,
  "roomDetails": "æ ‡å‡†åŒäººé—´",
  "passengerContact": "123123123",
  "agentName": "å¡”æ–¯æ—…æ¸¸",
  "specialRequests": "meiyou"
}
```

### 3. éªŒè¯å‰ç«¯æ˜¾ç¤ºé€»è¾‘
ç¡®è®¤å‰ç«¯ç»„ä»¶æ­£ç¡®æ˜¾ç¤ºè¿™äº›å­—æ®µï¼Œè€Œä¸æ˜¯æ˜¾ç¤º"æœªçŸ¥"

## ğŸ”§ **å¯èƒ½éœ€è¦çš„é¢å¤–ä¿®å¤**

### A. å‰ç«¯æ˜¾ç¤ºé€»è¾‘æ£€æŸ¥
å¦‚æœå­—æ®µæ•°æ®æ­£ç¡®ä½†ä»æ˜¾ç¤º"æœªçŸ¥"ï¼Œæ£€æŸ¥å‰ç«¯ç»„ä»¶ï¼š

```javascript
// æ£€æŸ¥æ˜¯å¦æœ‰ç±»ä¼¼è¿™æ ·çš„é€»è¾‘
const displayValue = data.flightNumber || 'æœªçŸ¥';
const hotelInfo = data.hotelRoomCount ? `${data.hotelRoomCount}é—´æˆ¿` : 'æœªçŸ¥';
```

### B. å­—æ®µä¸ºnullæ—¶çš„å¤„ç†
ç¡®ä¿åç«¯è¿”å›çš„nullå­—æ®µåœ¨å‰ç«¯æœ‰æ­£ç¡®çš„é»˜è®¤å€¼å¤„ç†ï¼š

```javascript
// æ¨èçš„å¤„ç†æ–¹å¼
const flightDisplay = data.flightNumber || 'æš‚æ— ';
const roomDisplay = data.roomDetails || 'æ ‡å‡†æˆ¿å‹';
```

### C. ä»£ç†å•†åç§°æ˜ å°„
ç¡®ä¿ `agentName` å­—æ®µæ­£ç¡®æ˜ å°„ï¼Œå¯èƒ½éœ€è¦åœ¨Serviceä¸­æ·»åŠ ï¼š

```java
// åœ¨TourScheduleOrderServiceImplçš„convertToVOæ–¹æ³•ä¸­
if (entity.getAgentId() != null) {
    // æ ¹æ®agentIdæŸ¥è¯¢agentNameå¹¶è®¾ç½®
    vo.setAgentName(getAgentNameById(entity.getAgentId()));
}
```

## ğŸ“‹ **å¿«é€ŸéªŒè¯æ¸…å•**

- [ ] é‡æ–°ç¼–è¯‘åç«¯é¡¹ç›®
- [ ] é‡å¯åç«¯æœåŠ¡  
- [ ] æ‹–æ‹½ä¸€ä¸ªè®¢å•åˆ°æ’å›¢
- [ ] æ£€æŸ¥åç«¯æ—¥å¿—ç¡®è®¤å­—æ®µè¡¥å…¨
- [ ] æ£€æŸ¥å‰ç«¯æ˜¾ç¤ºæ˜¯å¦è¿˜æœ‰"æœªçŸ¥"
- [ ] éªŒè¯å…·ä½“å­—æ®µï¼šèˆªç­å·ã€æˆ¿é—´æ•°ã€ä»£ç†å•†åç§°

## ğŸ¯ **é¢„æœŸç»“æœ**

### æ‹–æ‹½å‰ï¼ˆè®¢å•æ•°æ®ï¼‰
```json
{
  "flightNumber": "jq123",
  "returnFlightNumber": "jq212",
  "hotelRoomCount": 1,
  "roomDetails": "æ ‡å‡†åŒäººé—´",
  "agentName": "å¡”æ–¯æ—…æ¸¸"
}
```

### æ‹–æ‹½åï¼ˆæ’å›¢æ•°æ®ï¼‰
```json
{
  "flightNumber": "jq123",      // âœ… ä¸å†æ˜¯"æœªçŸ¥"
  "returnFlightNumber": "jq212", // âœ… ä¸å†æ˜¯"æœªçŸ¥"
  "hotelRoomCount": 1,          // âœ… ä¸å†æ˜¯"æœªçŸ¥" 
  "roomDetails": "æ ‡å‡†åŒäººé—´",    // âœ… ä¸å†æ˜¯"æœªçŸ¥"
  "agentName": "å¡”æ–¯æ—…æ¸¸"       // âœ… ä¸å†æ˜¯"æœªçŸ¥"
}
```

## âš¡ **ç«‹å³è¡ŒåŠ¨**

1. **ç¼–è¯‘é¡¹ç›®ï¼š** `mvn clean compile`
2. **é‡å¯æœåŠ¡**
3. **æµ‹è¯•æ‹–æ‹½ï¼š** æ‹–æ‹½è®¢å• `HT20250606000144` 
4. **éªŒè¯ç»“æœï¼š** æ£€æŸ¥æ˜¯å¦è¿˜æœ‰"æœªçŸ¥"æ˜¾ç¤º

ç°åœ¨å­—æ®µåº”è¯¥èƒ½æ­£ç¡®æ˜¾ç¤ºï¼Œä¸å†å‡ºç°"æœªçŸ¥"äº†ï¼ 